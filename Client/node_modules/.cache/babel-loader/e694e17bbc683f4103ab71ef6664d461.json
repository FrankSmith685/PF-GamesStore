{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\frank-smith\\\\Desktop\\\\PROYECTOS PF\\\\PROYECTO-VIDEOGAMES\\\\Henry-Project\\\\henryproject\\\\client\\\\src\\\\Components\\\\Suscribe\\\\Suscribe.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport { useState } from 'react';\nimport './Suscribe.css';\nimport swal from 'sweetalert';\nimport { useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Suscribe(_ref) {\n  _s();\n\n  let {\n    userLogged\n  } = _ref;\n  let usermail = JSON.parse(localStorage.getItem('user'));\n  const [input, setInput] = useState({\n    mail: ''\n  });\n  const [loading, setLoading] = useState(false);\n\n  function handleChange(e) {\n    setInput({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    setLoading(true);\n    let emails = await axios.get('/newsletter').then(res => res.data).then(res => res);\n    console.log('los emails son', emails);\n\n    if (emails.map(el => el.mail).includes(input.mail)) {\n      setLoading(false);\n      return swal({\n        title: 'Already Suscribed ! '\n      });\n    }\n\n    if (userLogged) {\n      setInput({\n        mail: usermail.user.mail\n      });\n    }\n\n    axios.post('/newsletter', input).then(resp => resp.data).then(resp => {\n      console.log('newsletter', resp);\n      swal({\n        title: 'Thanks for suscribing ! '\n      });\n      setLoading(false);\n    }).catch(error => {\n      setLoading(false);\n      console.log('suscripcion fallida', error);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Subscribe Us\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Suscribe to our newsletter and stay updated.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => handleSubmit(e),\n        children: [userLogged ? /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input-disabled\",\n          disabled: true,\n          placeholder: \"Email\",\n          name: \"mail\",\n          required: true,\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Email\",\n          name: \"mail\",\n          required: true,\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }, this), !loading ? /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \" Suscribe \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 29\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: true,\n          type: \"submit\",\n          children: \" Loading... \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 74\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Suscribe, \"mgsrV7HD1fh23Y6W8kQiTiTR24M=\");\n\n_c = Suscribe;\n\nvar _c;\n\n$RefreshReg$(_c, \"Suscribe\");","map":{"version":3,"names":["axios","useState","swal","useEffect","Suscribe","userLogged","usermail","JSON","parse","localStorage","getItem","input","setInput","mail","loading","setLoading","handleChange","e","target","name","value","handleSubmit","preventDefault","emails","get","then","res","data","console","log","map","el","includes","title","user","post","resp","catch","error"],"sources":["C:/Users/frank-smith/Desktop/PROYECTOS PF/PROYECTO-VIDEOGAMES/Henry-Project/henryproject/client/src/Components/Suscribe/Suscribe.jsx"],"sourcesContent":["import axios from 'axios'\r\nimport { useState } from 'react'\r\nimport './Suscribe.css'\r\nimport swal from 'sweetalert';\r\nimport { useEffect } from 'react';\r\n\r\n\r\nexport default function Suscribe ({userLogged}) {\r\n\r\n    let usermail = JSON.parse(localStorage.getItem('user'))\r\n    const [input, setInput] = useState({\r\n        mail: ''\r\n    })\r\n\r\n  \r\n\r\n    const [loading, setLoading] = useState(false)\r\n    function handleChange(e) {\r\n        setInput({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    async function handleSubmit(e) {\r\n        e.preventDefault()\r\n        setLoading(true)\r\n        let emails = await axios.get('/newsletter').then(res => res.data).then(res => res)\r\n        console.log('los emails son', emails)\r\n        if(emails.map(el => el.mail).includes(input.mail)){\r\n            setLoading(false)\r\n            return swal({title:'Already Suscribed ! '})\r\n        }\r\n        if(userLogged){\r\n            setInput({\r\n                mail: usermail.user.mail\r\n            })\r\n        }\r\n            axios.post('/newsletter', input)\r\n            .then(resp => resp.data)\r\n            .then(resp => {\r\n                console.log('newsletter', resp)\r\n                swal({title:'Thanks for suscribing ! '})\r\n                setLoading(false)\r\n             })\r\n             .catch(error => {\r\n                setLoading(false)\r\n                console.log('suscripcion fallida', error) \r\n            })\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <section className=\"wrapper\">\r\n        <div className=\"content\">\r\n                <header>\r\n                  <h1>Subscribe Us</h1>\r\n                </header>\r\n            <section>\r\n                <p>\r\n                    Suscribe to our newsletter and stay updated.\r\n                </p>\r\n            </section>\r\n            <form onSubmit={e => handleSubmit(e)}>\r\n            {\r\n                userLogged ?\r\n                <input className='input-disabled' disabled={true} placeholder='Email' name='mail' required onChange={(e) => handleChange(e)}></input>\r\n                :\r\n                <input placeholder='Email' name='mail' required onChange={(e) => handleChange(e)}></input>\r\n            }\r\n                {!loading ? <button  type='submit'> Suscribe </button> : <button  disabled={true} type='submit'> Loading... </button>}\r\n            </form>\r\n        </div>\r\n    </section>\r\n    )\r\n}"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,OAAO,gBAAP;AACA,OAAOC,IAAP,MAAiB,YAAjB;AACA,SAASC,SAAT,QAA0B,OAA1B;;AAGA,eAAe,SAASC,QAAT,OAAiC;EAAA;;EAAA,IAAd;IAACC;EAAD,CAAc;EAE5C,IAAIC,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAf;EACA,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC;IAC/BY,IAAI,EAAE;EADyB,CAAD,CAAlC;EAMA,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBd,QAAQ,CAAC,KAAD,CAAtC;;EACA,SAASe,YAAT,CAAsBC,CAAtB,EAAyB;IACrBL,QAAQ,CAAC;MACL,CAACK,CAAC,CAACC,MAAF,CAASC,IAAV,GAAiBF,CAAC,CAACC,MAAF,CAASE;IADrB,CAAD,CAAR;EAGH;;EAED,eAAeC,YAAf,CAA4BJ,CAA5B,EAA+B;IAC3BA,CAAC,CAACK,cAAF;IACAP,UAAU,CAAC,IAAD,CAAV;IACA,IAAIQ,MAAM,GAAG,MAAMvB,KAAK,CAACwB,GAAN,CAAU,aAAV,EAAyBC,IAAzB,CAA8BC,GAAG,IAAIA,GAAG,CAACC,IAAzC,EAA+CF,IAA/C,CAAoDC,GAAG,IAAIA,GAA3D,CAAnB;IACAE,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BN,MAA9B;;IACA,IAAGA,MAAM,CAACO,GAAP,CAAWC,EAAE,IAAIA,EAAE,CAAClB,IAApB,EAA0BmB,QAA1B,CAAmCrB,KAAK,CAACE,IAAzC,CAAH,EAAkD;MAC9CE,UAAU,CAAC,KAAD,CAAV;MACA,OAAOb,IAAI,CAAC;QAAC+B,KAAK,EAAC;MAAP,CAAD,CAAX;IACH;;IACD,IAAG5B,UAAH,EAAc;MACVO,QAAQ,CAAC;QACLC,IAAI,EAAEP,QAAQ,CAAC4B,IAAT,CAAcrB;MADf,CAAD,CAAR;IAGH;;IACGb,KAAK,CAACmC,IAAN,CAAW,aAAX,EAA0BxB,KAA1B,EACCc,IADD,CACMW,IAAI,IAAIA,IAAI,CAACT,IADnB,EAECF,IAFD,CAEMW,IAAI,IAAI;MACVR,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BO,IAA1B;MACAlC,IAAI,CAAC;QAAC+B,KAAK,EAAC;MAAP,CAAD,CAAJ;MACAlB,UAAU,CAAC,KAAD,CAAV;IACF,CANF,EAOEsB,KAPF,CAOQC,KAAK,IAAI;MACbvB,UAAU,CAAC,KAAD,CAAV;MACAa,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCS,KAAnC;IACH,CAVD;EAWP;;EAMD,oBACI;IAAS,SAAS,EAAC,SAAnB;IAAA,uBACA;MAAK,SAAS,EAAC,SAAf;MAAA,wBACQ;QAAA,uBACE;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QADR,eAII;QAAA,uBACI;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MADJ;QAAA;QAAA;QAAA;MAAA,QAJJ,eASI;QAAM,QAAQ,EAAErB,CAAC,IAAII,YAAY,CAACJ,CAAD,CAAjC;QAAA,WAEIZ,UAAU,gBACV;UAAO,SAAS,EAAC,gBAAjB;UAAkC,QAAQ,EAAE,IAA5C;UAAkD,WAAW,EAAC,OAA9D;UAAsE,IAAI,EAAC,MAA3E;UAAkF,QAAQ,MAA1F;UAA2F,QAAQ,EAAGY,CAAD,IAAOD,YAAY,CAACC,CAAD;QAAxH;UAAA;UAAA;UAAA;QAAA,QADU,gBAGV;UAAO,WAAW,EAAC,OAAnB;UAA2B,IAAI,EAAC,MAAhC;UAAuC,QAAQ,MAA/C;UAAgD,QAAQ,EAAGA,CAAD,IAAOD,YAAY,CAACC,CAAD;QAA7E;UAAA;UAAA;UAAA;QAAA,QALJ,EAOK,CAACH,OAAD,gBAAW;UAAS,IAAI,EAAC,QAAd;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAAX,gBAAwD;UAAS,QAAQ,EAAE,IAAnB;UAAyB,IAAI,EAAC,QAA9B;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAP7D;MAAA;QAAA;QAAA;QAAA;MAAA,QATJ;IAAA;MAAA;MAAA;MAAA;IAAA;EADA;IAAA;IAAA;IAAA;EAAA,QADJ;AAuBH;;GAtEuBV,Q;;KAAAA,Q"},"metadata":{},"sourceType":"module"}