{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\frank-smith\\\\Desktop\\\\PROYECTOS PF\\\\PROYECTO-VIDEOGAMES\\\\Henry-Project\\\\henryproject\\\\client\\\\src\\\\Components\\\\UserSign\\\\UserSign.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport './UserSign.css';\nimport Icon from '../../Style/Imagenes/Icon.PNG';\nimport Modal from \"react-modal\";\nimport axios from 'axios';\nimport swal from 'sweetalert';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  REACT_APP_API\n} = process.env;\nexport default function UserSign(_ref) {\n  _s();\n\n  let {\n    toggleModal,\n    isOpen,\n    setUserLogged,\n    changeModal\n  } = _ref;\n  const [render, setRender] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [input, setInput] = useState({\n    mail: '',\n    password: ''\n  }); // function handleClick(e) {\n  //     // e.preventDefault()\n  //     window.open(`http://localhost:3001/auth/google`, \"_self\")\n  // }\n\n  Modal.setAppElement(\"#root\");\n\n  function handleChange(e) {\n    setInput({ ...input,\n      [e.target.name]: e.target.value\n    }); // setErrors(validate({\n    //     ...input,\n    //     [e.target.name] : e.target.value\n    // }))\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    setLoading(true);\n    axios.post(`/login`, input).then(resp => resp.data).then(resp => {\n      setUserLogged(true);\n      console.log('logueado con', input);\n      localStorage.setItem('user', JSON.stringify(resp));\n      window.location.reload();\n      setInput({\n        mail: '',\n        password: ''\n      });\n      toggleModal();\n      setLoading(false);\n    }).catch(error => {\n      swal({\n        title: error.response.data.msg ? error.response.data.msg : error.response.data\n      });\n      console.log('el error fue', error.response);\n      setLoading(false);\n    });\n    setRender(render, 'hola'); // window.location.reload()\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: isOpen,\n      onRequestClose: toggleModal,\n      contentlabel: \"My dialog\",\n      className: \"mymodal\",\n      overlayClassName: \"myoverlay\",\n      closeTimeoutMS: 500,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-welcome\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: Icon,\n          className: \"iconito-de-sergio\",\n          alt: \"iconito de Sergio\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Bienvenido\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"form-modal\",\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \" E-Mail:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: handleChange,\n            type: \"mail\",\n            id: \"mail\",\n            name: \"mail\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Password:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: handleChange,\n            type: \"password\",\n            id: \"password\",\n            name: \"password\",\n            autocomplete: \"off\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 17\n          }, this), loading ? /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: true,\n            className: \"button-30\",\n            children: \" Loading.. \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 28\n          }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"button-30\",\n            type: \"submit\",\n            children: \" Loggin \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 111\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Are you new ?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: changeModal,\n        className: \"register-button\",\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [/*#__PURE__*/_jsxDEV(\"u\", {\n            children: \"Register free now\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 71\n          }, this), \"!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 67\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n}\n\n_s(UserSign, \"mwKjPnjuFPQzaiB593zZ1rMmNpc=\");\n\n_c = UserSign;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserSign\");","map":{"version":3,"names":["React","useState","Icon","Modal","axios","swal","REACT_APP_API","process","env","UserSign","toggleModal","isOpen","setUserLogged","changeModal","render","setRender","loading","setLoading","input","setInput","mail","password","setAppElement","handleChange","e","target","name","value","handleSubmit","preventDefault","post","then","resp","data","console","log","localStorage","setItem","JSON","stringify","window","location","reload","catch","error","title","response","msg"],"sources":["C:/Users/frank-smith/Desktop/PROYECTOS PF/PROYECTO-VIDEOGAMES/Henry-Project/henryproject/client/src/Components/UserSign/UserSign.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport './UserSign.css'\r\nimport Icon from '../../Style/Imagenes/Icon.PNG'\r\nimport Modal from \"react-modal\";\r\nimport axios from 'axios'\r\nimport swal from 'sweetalert'; \r\nconst {\r\n  REACT_APP_API\r\n} = process.env;\r\n\r\n\r\nexport default function UserSign({toggleModal, isOpen, setUserLogged, changeModal}) {\r\n\r\n\r\n    const [render, setRender] = useState('')\r\n    const[loading, setLoading] = useState(false)\r\n    const [input, setInput] = useState({\r\n        mail: '',\r\n        password: ''\r\n    })\r\n\r\n    // function handleClick(e) {\r\n    //     // e.preventDefault()\r\n    //     window.open(`http://localhost:3001/auth/google`, \"_self\")\r\n    // }\r\n\r\n    Modal.setAppElement(\"#root\");\r\n\r\n    function handleChange(e) {\r\n        setInput({\r\n            ...input,\r\n            [e.target.name]: e.target.value\r\n        })\r\n        // setErrors(validate({\r\n        //     ...input,\r\n        //     [e.target.name] : e.target.value\r\n        // }))\r\n    }\r\n\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault()\r\n        setLoading(true)\r\n          axios.post(`/login`, input)\r\n          .then(resp => resp.data)\r\n          .then(resp => {\r\n              setUserLogged(true)\r\n              console.log('logueado con', input)\r\n              localStorage.setItem('user', JSON.stringify(resp))\r\n              window.location.reload()\r\n              setInput({\r\n              mail: '',\r\n              password: ''\r\n              })    \r\n              toggleModal()\r\n              setLoading(false)\r\n          })\r\n          .catch(error => {\r\n            swal({title:error.response.data.msg ? error.response.data.msg : error.response.data})\r\n            console.log('el error fue', error.response)\r\n            setLoading(false)\r\n          })\r\n        setRender(render, 'hola')\r\n        // window.location.reload()\r\n    }\r\n\r\n  return (\r\n    <div>\r\n\r\n      <Modal\r\n        isOpen={isOpen}\r\n        onRequestClose={toggleModal}\r\n        contentlabel=\"My dialog\"\r\n        className=\"mymodal\"\r\n        overlayClassName=\"myoverlay\"\r\n        closeTimeoutMS={500}\r\n      >\r\n        <div className=\"modal-welcome\">\r\n        <img src={Icon} className='iconito-de-sergio' alt='iconito de Sergio'/>\r\n                <h1>Bienvenido</h1>\r\n        </div>\r\n        <div>\r\n            <form className=\"form-modal\" onSubmit={handleSubmit}>\r\n                <label> E-Mail:</label>\r\n                <input onChange={handleChange} type=\"mail\" id=\"mail\" name='mail'></input>\r\n                <label>Password:</label>   \r\n                <input onChange={handleChange} type=\"password\" id=\"password\" name='password' autocomplete=\"off\" ></input>\r\n                {loading ? <button type=\"submit\" disabled={true} className='button-30'> Loading.. </button> : <button className=\"button-30\" type=\"submit\"> Loggin </button>}\r\n                {/* <button type=\"submit\"> Loggin </button> */}\r\n            </form>\r\n        </div>\r\n        \r\n        {/* <button onClick={(e) => handleClick(e)} className='login-with-google-btn' >Ingresar con cuenta de Google</button> */}\r\n        <h3>Are you new ?</h3>  \r\n        <button onClick={changeModal} className='register-button'><h3><u>Register free now</u>!</h3></button>\r\n\r\n      </Modal>\r\n\r\n    </div>\r\n  );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}